(()=>{var e={529:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var i,r;return i=e,(r=[{key:"sort",value:function(e){var n=this,i=document.querySelectorAll("li");this.current=null,this.currentpos=0,this.droppedpos=0,i.forEach((function(r){r.addEventListener("dragstart",(function(e){n.current=e.target,e.target.classList.add("dragged")})),r.addEventListener("dragenter",(function(e){e.target!==n.current&&e.target.classList.add("active")})),r.addEventListener("dragleave",(function(e){e.target.classList.remove("active")})),r.addEventListener("dragend",(function(){var e,n=function(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){d=!0,o=e},f:function(){try{s||null==i.return||i.return()}finally{if(d)throw o}}}}(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.classList.remove("active"),r.classList.remove("dragged")}}catch(e){n.e(e)}finally{n.f()}})),r.addEventListener("dragover",(function(e){e.preventDefault()})),r.addEventListener("drop",(function(t){if(t.preventDefault(),t.target!==n.current){for(var i=document.querySelectorAll("li"),r=0;r<i.length;r+=1)n.current===i[r]&&(n.currentpos=r),t.target===i[r]&&(n.droppedpos=r);n.currentpos<n.droppedpos?t.target.parentNode.insertBefore(n.current,t.target.nextSibling):t.target.parentNode.insertBefore(n.current,t.target),e(n.currentpos,n.droppedpos)}}))}))}}])&&n(i.prototype,r),e}()},754:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tasks=JSON.parse(localStorage.getItem("tasks"))||[]}var n,i;return n=e,(i=[{key:"bindTaskListChange",value:function(e){this.onTaskListChanged=e}},{key:"commit",value:function(e){localStorage.setItem("tasks",JSON.stringify(e)),this.onTaskListChanged(e),window.location.reload()}},{key:"sort",value:function(e,t){var n=this.tasks[e],i=this.tasks[t];this.tasks.splice(t,1,n),this.tasks.splice(e,1,i),this.commit(this.tasks)}},{key:"addTask",value:function(e){var t={index:this.tasks.length>0?this.tasks[this.tasks.length-1].index+1:0,description:e,completed:!1};this.tasks.push(t),this.commit(this.tasks)}},{key:"editTask",value:function(e,t){var n=this.tasks.findIndex((function(t){return t.index===e}));this.tasks[n].description=t,this.commit(this.tasks)}},{key:"deleteTask",value:function(e){this.tasks=this.tasks.filter((function(t){return t.index!==parseInt(e,10)}));var t=[];this.tasks.map((function(e,n){var i={index:n,description:e.description,completed:e.completed};return t.push(i)})),this.commit(t)}},{key:"clearCompetedTasks",value:function(){this.tasks=this.tasks.filter((function(e){return!0!==e.completed})),this.commit(this.tasks)}}])&&t(n.prototype,i),e}()},182:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.commit=t}var n,i;return n=e,(i=[{key:"toggleTask",value:function(e,t){this.tasks=t;var n=this.tasks.findIndex((function(t){return t.index===e}));return this.tasks[n].completed=!this.tasks[n].completed,this.tasks}}])&&t(n.prototype,i),e}()},885:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=document.querySelector("FORM"),this.taskList=document.querySelector("#todoList"),this.input=document.querySelector("input[name=todo]"),this.tempTaskDescription="",this.initEditListener()}var n,i;return n=e,(i=[{key:"taskText",get:function(){return this.input.value}},{key:"displayTasks",value:function(e){for(var t=this;this.taskList.firstChild;)this.taskList.removeChild(this.taskList.firstChild);if(0===e.length){var n=document.createElement("li");n.textContent="Nothing to do! Add a task?",this.taskList.append(n)}else e.forEach((function(e){var n=document.createElement("li");n.id=e.index,n.draggable=!0;var i=document.createElement("div");i.className="todo-item";var r=document.createElement("input");r.type="checkbox",r.id=e.index,r.checked=e.completed;var a=document.createElement("div");a.className="todo-drag",a.innerHTML='<i class="bi bi-grip-vertical"></i>';var o=document.createElement("span");if(o.contentEditable=!0,o.classList.add("editable"),e.completed){var s=document.createElement("s");s.textContent=e.description,o.append(s)}else o.textContent=e.description;var d=document.createElement("button");d.classList.add("task-delete"),d.id=e.index,d.innerHTML='<i class="bi bi-trash"></i>',i.append(r,o),n.append(i,a,d),t.taskList.append(n)}))}},{key:"initEditListener",value:function(){var e=this;this.taskList.addEventListener("keyup",(function(t){"editable"===t.target.className&&(e.tempTaskDescription=t.target.innerText)}))}},{key:"bindAddTask",value:function(e){var t=this;this.form.addEventListener("submit",(function(n){n.preventDefault(),t.taskText&&(e(t.taskText),t.form.reset())}))}},{key:"bindToggleTask",value:function(e){this.taskList.addEventListener("change",(function(t){if("checkbox"===t.target.type){var n=parseInt(t.target.id,10);e(n)}}))}},{key:"bindEditTask",value:function(e){var t=this;this.taskList.addEventListener("focusout",(function(n){var i=n.target.parentNode.parentNode.id;if(t.tempTaskDescription){var r=parseInt(i,10);e(r,t.tempTaskDescription),t.tempTaskDescription=""}}))}},{key:"bindDeleteTask",value:function(e){this.taskList.addEventListener("click",(function(t){var n=t.target.parentNode.id;"submit"===t.target.parentNode.type&&e(n)}))}},{key:"bindClearCompletedTask",value:function(e){this.clear=document.querySelector(".todo-clear"),this.clear.addEventListener("click",(function(){return e()}))}}])&&t(n.prototype,i),e}()},426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(645),r=n.n(i)()((function(e){return e[1]}));r.push([e.id,"@import url(https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css);"]),r.push([e.id,"*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\n*:focus {\n  outline: none;\n}\n\nhtml {\n  font-family: sans-serif;\n  font-size: 1rem;\n  color: #444;\n}\n\ninput,\nbutton { border: none; }\n\n.container {\n  max-width: 450px;\n  margin: 2rem auto;\n  border: 2px solid rgba(0, 0, 0, 0.17);\n  border-radius: 0.5em;\n  padding: 0;\n}\n\n.input-field {\n  position: relative;\n  padding-right: 1.5em;\n}\n\n.field-icon {\n  position: absolute;\n  right: 0;\n  padding: 0;\n  margin: 1.2em 1.5em;\n  color: rgba(0, 0, 0, 0.27);\n}\n\nform input {\n  width: 100%;\n  border: none;\n  font-size: 1rem;\n  font-weight: 400;\n  font-style: italic;\n  color: rgba(0, 0, 0, 0.54);\n  padding: 1em 0 1em 1em;\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.27);\n  align-items: center;\n  padding-right: 1.5em;\n}\n\n.header i {\n  color: rgba(0, 0, 0, 0.27);\n}\n\n.active {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n.dragged {\n  background: rgba(0, 0, 0, 0.17);\n  opacity: 0.2;\n}\n\n.title {\n  color: #222;\n  font-size: 1.2rem;\n  font-weight: 500;\n  padding: 0.7em 1em;\n  margin: 0;\n}\n\n.todo-item {\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n}\n\n.todo-item input {\n  margin: 1em;\n}\n\n.todo-item p {\n  margin: 0;\n  font-size: 1.1rem;\n}\n\nul {\n  padding: 0;\n  margin: 0;\n}\n\nli {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.4em 1em;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.27);\n  border-top: 1px solid rgba(0, 0, 0, 0.27);\n}\n\n.todo-drag {\n  padding-right: 0.4em;\n  color: rgba(0, 0, 0, 0.27);\n}\n\nli span {\n  display: inline-block;\n  padding: 0.5rem;\n  border-radius: 4px;\n  border: 2px solid transparent;\n  width: 100%;\n}\n\nli span:hover {\n  background: rgba(179, 215, 255, 0.52);\n}\n\nli span:focus {\n  outline: 0;\n  border: 2px solid #007bff;\n  background: rgba(179, 207, 255, 0.52);\n}\n\n.todo-clear {\n  font-size: 1rem;\n  text-align: center;\n  font-weight: 400;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.27);\n  padding: 1em;\n  margin: 0;\n  color: rgba(0, 0, 0, 0.54);\n  background: rgba(0, 0, 0, 0.02);\n}\n\n.todo-clear:hover {\n  cursor: pointer;\n  background: rgba(0, 0, 0, 0.1);\n}\n\n.task-delete {\n  background: none;\n  flex-shrink: 1;\n}\n\n.task-delete i {\n  color: rgba(0, 0, 0, 0.54);\n}\n\n.hide {\n  display: none;\n}\n",""]);const a=r},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);i&&r[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),t.push(d))}},t}},379:(e,t,n)=>{"use strict";var i,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],r=0;r<e.length;r++){var s=e[r],d=t.base?s[0]+t.base:s[0],c=n[d]||0,l="".concat(d," ").concat(c);n[d]=c+1;var u=o(l),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(a[u].references++,a[u].updater(f)):a.push({identifier:l,updater:m(f,t),references:1}),i.push(l)}return i}function d(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var a=n.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,h=0;function m(e,t){var n,i,r;if(t.singleton){var a=h++;n=p||(p=d(t)),i=u.bind(null,n,a,!1),r=u.bind(null,n,a,!0)}else n=d(t),i=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var r=o(n[i]);a[r].references--}for(var d=s(e,t),c=0;c<n.length;c++){var l=o(n[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=d}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={id:i,exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(379),t=n.n(e),i=n(426);t()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var r=n(754),a=n.n(r),o=n(885),s=n.n(o),d=n(529),c=n.n(d),l=n(182),u=n.n(l);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}new function e(t,n,i,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"onTaskListChanged",(function(e){a.view.displayTasks(e)})),f(this,"handleAddTask",(function(e){a.task.addTask(e)})),f(this,"handleToggleTask",(function(e){var t=a.toggle.toggleTask(e,a.task.tasks);a.task.commit(t)})),f(this,"hendleDndTask",(function(e,t){a.task.sort(e,t)})),f(this,"handleDeleteTask",(function(e){a.task.deleteTask(e)})),f(this,"handleEditTask",(function(e,t){a.task.editTask(e,t)})),f(this,"handleCompletedTask",(function(){a.task.clearCompetedTasks()})),this.task=t,this.view=n,this.dnd=i,this.toggle=r,this.task.bindTaskListChange(this.onTaskListChanged),this.view.bindAddTask(this.handleAddTask),this.view.bindToggleTask(this.handleToggleTask),this.view.bindDeleteTask(this.handleDeleteTask),this.view.bindEditTask(this.handleEditTask),this.view.bindClearCompletedTask(this.handleCompletedTask),this.onTaskListChanged(this.task.tasks),this.dnd.sort(this.hendleDndTask)}(new(a()),new(s()),new(c()),new(u()))})()})();